# Система арбитражной торговли

Это репозиторий для комплексной системы арбитражной торговли, состоящей из трех основных сервисов.
Подробное описание архитектуры можно найти в [документации](./docs/overall_architecture/architecture.md).

## Как запустить

Система состоит из трех независимых компонентов, которые можно запускать в любом порядке. Однако для полной функциональности рекомендуется следующий порядок запуска:

1.  `collections`
2.  `trader`
3.  `analyzer`

### 1. Сборщик данных (`collections`)

Этот сервис на .NET отвечает за сбор рыночных данных с бирж и их распространение.

**Требования:**
- .NET SDK 8.0 или выше.

**Запуск:**
```shell
dotnet run --project collections/src/SpreadAggregator.Presentation/SpreadAggregator.Presentation.csproj
```
После запуска сервис начнет собирать данные и будет доступен WebSocket-сервер для `trader`.

### 2. Торговый бот (`trader`)

Этот сервис на .NET подключается к `collections`, получает данные и выполняет торговые операции.

**Требования:**
- .NET SDK 8.0 или выше.

**Запуск:**
```shell
dotnet run --project trader/src/Host/TraderBot.Host.csproj
```
Перед запуском убедитесь, что сервис `collections` уже запущен.

### 3. Анализатор (`analyzer`)

Этот сервис на Python выполняет оффлайн-анализ собранных данных.

**Требования:**
- Python 3.9 или выше.
- Зависимости, перечисленные в `analyzer/requirements.txt`.

**Установка зависимостей:**
```shell
pip install -r analyzer/requirements.txt
```

**Запуск анализа:**
```shell
python analyzer/run_all_ultra.py
```
Этот скрипт обработает данные, сохраненные сервисом `collections` в директории `data/market_data`.