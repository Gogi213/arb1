# üî¥ –ü–†–û–ë–õ–ï–ú–ê: –ü–æ—á–µ–º—É –±–æ—Ç –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ—Å–ª–µ 110 —Å–¥–µ–ª–æ–∫

## üìä –§–∞–∫—Ç—ã –∏–∑ 8-–º–∏–Ω—É—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞:

- **Trade #1**: profit = $5.55
- **Trade #50**: profit = $0.03
- **Trade #110**: profit = $0.00
- **Trade #111-275**: profit = $0.00 (–≤—Å–µ –Ω—É–ª–∏!)

**–ò—Ç–æ–≥–æ**: $55.18 –∑–∞ 275 —Å–¥–µ–ª–æ–∫, –Ω–æ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 110 —Å–¥–µ–ª–æ–∫ –ø—Ä–∏–±—ã–ª—å–Ω—ã–µ.

---

## üîç –ö–û–î –ü–†–û–ë–õ–ï–ú–´

### 1. –ù–∞—á–∞–ª—å–Ω–∞—è –∞–ª–ª–æ–∫–∞—Ü–∏—è (multi_pair_trader.py:110-115)

```python
# Allocate capital for this pair
allocation = self.balance_manager.allocate_for_pair(symbol, exchanges)

# Initialize crypto positions (buy at current ask price)
buy_price = opportunity.min_ask
usdt_per_exchange = allocation[exchanges[0]]['usdt']  # $5000 –Ω–∞ –±–∏—Ä–∂—É
crypto_amount = usdt_per_exchange * 0.5 / buy_price   # ‚Üê –ü–†–û–ë–õ–ï–ú–ê #1: —Ç–æ–ª—å–∫–æ 50%!
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ù–∞—á–∞–ª—å–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª: $10,000
- –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞ 2 –±–∏—Ä–∂–∏: $5,000 –∫–∞–∂–¥–æ–π
- –ù–æ –ø–æ–∫—É–ø–∞–µ—Ç—Å—è –∫—Ä–∏–ø—Ç—ã —Ç–æ–ª—å–∫–æ –Ω–∞ **50% –æ—Ç $5,000 = $2,500**
- –û—Å—Ç–∞–ª—å–Ω—ã–µ $2,500 –æ—Å—Ç–∞—é—Ç—Å—è –≤ USDT

**–ù–∞—á–∞–ª—å–Ω—ã–µ –±–∞–ª–∞–Ω—Å—ã:**
```
Bybit:   $2500 USDT + 6510 ZBTUSDT  (–∫—É–ø–∏–ª–∏ –Ω–∞ $2500)
Binance: $2500 USDT + 6510 ZBTUSDT  (–∫—É–ø–∏–ª–∏ –Ω–∞ $2500)
```

---

### 2. –õ–æ–≥–∏–∫–∞ —Å–¥–µ–ª–æ–∫ (multi_pair_trader.py:196)

```python
# Calculate trade amount (percentage of available crypto)
sell_balance = balances[sell_exchange]['crypto']  # –ö—Ä–∏–ø—Ç–∞ –Ω–∞ –±–∏—Ä–∂–µ –ø—Ä–æ–¥–∞–∂–∏
trade_amount = sell_balance * self.trade_amount_pct  # ‚Üê 10% –æ—Ç –±–∞–ª–∞–Ω—Å–∞
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–∞–∂–¥—É—é —Å–¥–µ–ª–∫—É:**

#### Trade #1:
```
Opportunity: Buy Bybit @ $0.384, Sell Binance @ $0.393 (2.42% profit)

BEFORE:
  Bybit (buy):    $2500 USDT, 6510 crypto
  Binance (sell): $2500 USDT, 6510 crypto

ACTION:
  - Sell 10% from Binance = 651 crypto @ $0.393 = $256
  - Buy on Bybit = 651 crypto @ $0.384 = $250

AFTER:
  Bybit (buy):    $2250 USDT, 7161 crypto ‚Üê –ö—Ä–∏–ø—Ç—ã —Å—Ç–∞–ª–æ –ë–û–õ–¨–®–ï
  Binance (sell): $2756 USDT, 5859 crypto ‚Üê –ö—Ä–∏–ø—Ç—ã —Å—Ç–∞–ª–æ –ú–ï–ù–¨–®–ï

Net profit: $5.55 ‚úÖ
```

#### Trade #2 (–≤—Å—ë –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è):
```
BEFORE:
  Bybit (buy):    $2250 USDT, 7161 crypto
  Binance (sell): $2756 USDT, 5859 crypto ‚Üê –£–∂–µ –Ω–∞ 10% –º–µ–Ω—å—à–µ

ACTION:
  - Sell 10% from Binance = 586 crypto @ $0.393
  - Buy on Bybit = 586 crypto @ $0.384

AFTER:
  Bybit (buy):    $2025 USDT, 7746 crypto ‚Üê –ï–©–Å –ë–û–õ–¨–®–ï
  Binance (sell): $2986 USDT, 5272 crypto ‚Üê –ï–©–Å –ú–ï–ù–¨–®–ï

Net profit: $5.05 ‚úÖ
```

---

## üî¥ –ö–û–†–ï–ù–¨ –ü–†–û–ë–õ–ï–ú–´

### –ë–∞–ª–∞–Ω—Å –≤—Å–µ–≥–¥–∞ –∏–¥—ë—Ç –≤ **–û–î–ù–£ –°–¢–û–†–û–ù–£**:

**Buy from Bybit ‚Üí Sell to Binance** (–≤—Å—ë –≤—Ä–µ–º—è –æ–¥–Ω–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ!)

1. –ö–∞–∂–¥–∞—è —Å–¥–µ–ª–∫–∞:
   - **Bybit**: –ü–æ–∫—É–ø–∞–µ–º ‚Üí –∫—Ä–∏–ø—Ç—ã —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ë–û–õ–¨–®–ï, USDT –º–µ–Ω—å—à–µ
   - **Binance**: –ü—Ä–æ–¥–∞—ë–º ‚Üí –∫—Ä–∏–ø—Ç—ã —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ú–ï–ù–¨–®–ï, USDT –±–æ–ª—å—à–µ

2. –ü–æ—Å–ª–µ ~100 —Å–¥–µ–ª–æ–∫:
   - **Bybit**: $0.71 USDT, **13,008 crypto** ‚Üê –í–°–Å –≤ –∫—Ä–∏–ø—Ç–µ!
   - **Binance**: $5,054 USDT, **0.00 crypto** ‚Üê –ö–†–ò–ü–¢–´ –ù–ï–¢!

3. –î–∞–ª—å—à–µ:
   - Trade amount = `0.00 * 10% = 0.00` ‚Üê **–ù–µ—Ç –∫—Ä–∏–ø—Ç—ã –Ω–∞ –ø—Ä–æ–¥–∞–∂—É!**
   - Profit = $0.00

---

## üí° –ü–û–ß–ï–ú–£ –¢–ê–ö –ü–†–û–ò–°–•–û–î–ò–¢?

### –ü—Ä–æ–±–ª–µ–º–∞ –≤ –ª–æ–≥–∏–∫–µ –∞—Ä–±–∏—Ç—Ä–∞–∂–∞:

```python
# arbitrage_analyzer.py:95
if bid is not None and bid > max_bid:
    max_bid = bid
    max_bid_exchange = exchange
```

–ü—Ä–∏–º–µ—Ä —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:
```
Bybit:   ask=$0.384 (–≥–¥–µ –¥–µ—à–µ–≤–ª–µ –∫—É–ø–∏—Ç—å)
Binance: bid=$0.393 (–≥–¥–µ –¥–æ—Ä–æ–∂–µ –ø—Ä–æ–¥–∞—Ç—å)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ë–æ—Ç –í–°–ï–ì–î–ê –ø–æ–∫—É–ø–∞–µ—Ç –Ω–∞ Bybit, –í–°–ï–ì–î–ê –ø—Ä–æ–¥–∞—ë—Ç –Ω–∞ Binance!

–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–¥–µ–ª–æ–∫ **–ù–ï –ú–ï–ù–Ø–ï–¢–°–Ø**, –ø–æ—Ç–æ–º—É —á—Ç–æ:
- Bybit —Å—Ç–∞–±–∏–ª—å–Ω–æ –¥–µ—à–µ–≤–ª–µ
- Binance —Å—Ç–∞–±–∏–ª—å–Ω–æ –¥–æ—Ä–æ–∂–µ

---

## üìâ –ì–†–ê–§–ò–ö –î–ï–ì–†–ê–î–ê–¶–ò–ò

```
Trade    | Binance crypto | Profit
---------|----------------|--------
#1       | 6510          | $5.55
#10      | 5859          | $2.07
#50      | 2000          | $0.03
#100     | 100           | $0.00
#110     | 0             | $0.00
#111-275 | 0             | $0.00  ‚Üê –ë–û–¢ –ú–Å–†–¢–í
```

---

## ‚úÖ –†–ï–®–ï–ù–ò–Ø

### –í–∞—Ä–∏–∞–Ω—Ç 1: **–£–≤–µ–ª–∏—á–∏—Ç—å –Ω–∞—á–∞–ª—å–Ω—É—é –∫—Ä–∏–ø—Ç—É** (quick fix)

```python
# –ë–´–õ–û:
crypto_amount = usdt_per_exchange * 0.5 / buy_price  # 50%

# –°–¢–ê–õ–û:
crypto_amount = usdt_per_exchange * 0.9 / buy_price  # 90%
```

**–≠—Ñ—Ñ–µ–∫—Ç**: –ë–æ–ª—å—à–µ –∫—Ä–∏–ø—Ç—ã –≤ –Ω–∞—á–∞–ª–µ ‚Üí –±–æ–ª—å—à–µ —Å–¥–µ–ª–æ–∫ –¥–æ –æ–ø—É—Å—Ç–æ—à–µ–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞**: –í—Å—ë —Ä–∞–≤–Ω–æ –æ–ø—É—Å—Ç–æ—à–∏—Ç—Å—è, –ø—Ä–æ—Å—Ç–æ –ø–æ–∑–∂–µ

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: **–£–≤–µ–ª–∏—á–∏—Ç—å trade_amount_pct** (–ù–ï –†–ï–®–ê–ï–¢!)

```python
# –ë–´–õ–û:
trade_amount_pct = 0.1  # 10%

# –°–¢–ê–õ–û:
trade_amount_pct = 0.3  # 30%
```

**–≠—Ñ—Ñ–µ–∫—Ç**: –û–ø—É—Å—Ç–æ—à–∏—Ç—Å—è –ë–´–°–¢–†–ï–ï!

**–ü—Ä–æ–±–ª–µ–º–∞**: –≠—Ç–æ —Å–¥–µ–ª–∞–µ—Ç —Ö—É–∂–µ, –Ω–µ –ª—É—á—à–µ

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: **–†–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞** (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ!)

–î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏, –∫–æ–≥–¥–∞ –±–∞–ª–∞–Ω—Å —Å–∏–ª—å–Ω–æ –ø–µ—Ä–µ–∫–æ—à–µ–Ω:

```python
def rebalance_if_needed(self, symbol):
    """Rebalance if one exchange is depleted"""
    balances = self.balance_manager.get_pair_balances(symbol)

    for exchange, bal in balances.items():
        # –ï—Å–ª–∏ –∫—Ä–∏–ø—Ç—ã –º–µ–Ω—å—à–µ 10% –æ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ
        if bal['crypto'] < initial_crypto * 0.1:
            # –ö—É–ø–∏—Ç—å –∫—Ä–∏–ø—Ç—ã –∑–∞ USDT
            # ...

        # –ï—Å–ª–∏ USDT –º–µ–Ω—å—à–µ 10% –æ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ
        if bal['usdt'] < initial_usdt * 0.1:
            # –ü—Ä–æ–¥–∞—Ç—å –∫—Ä–∏–ø—Ç—É –∑–∞ USDT
            # ...
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 4: **–î–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–¥–µ–ª–∫–∏** (—Å–ª–æ–∂–Ω–æ!)

–ò–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É —Ç–∞–∫, —á—Ç–æ–±—ã:
- –ï—Å–ª–∏ Binance –ø—É—Å—Ç ‚Üí –≤—Ä–µ–º–µ–Ω–Ω–æ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –≤ –æ–±—Ä–∞—Ç–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É
- Buy from Binance, Sell to Bybit (—Ä–µ–≤–µ—Ä—Å)

**–ü—Ä–æ–±–ª–µ–º–∞**: –ù—É–∂–Ω–∞ –≥–ª—É–±–æ–∫–∞—è –ø–µ—Ä–µ–¥–µ–ª–∫–∞ –ª–æ–≥–∏–∫–∏

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø

### –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥:

1. **–£–≤–µ–ª–∏—á–∏—Ç—å –Ω–∞—á–∞–ª—å–Ω—É—é –∫—Ä–∏–ø—Ç—É –¥–æ 90%**:
   ```python
   crypto_amount = usdt_per_exchange * 0.9 / buy_price
   ```

2. **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ—Å—Ç—É—é —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫—É**:
   ```python
   # –ö–æ–≥–¥–∞ –∫—Ä–∏–ø—Ç–∞ –Ω–∞ sell_exchange < 5%:
   if sell_balance < initial_crypto * 0.05:
       # –ù–µ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å, –ø–æ–¥–æ–∂–¥–∞—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
       return False
   ```

3. **–ù–ï —Ç—Ä–æ–≥–∞—Ç—å trade_amount_pct** - –æ—Å—Ç–∞–≤–∏—Ç—å 10%

---

## üìù –ò–¢–û–ì–û

### –¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:
```
–û–î–ù–û–°–¢–û–†–û–ù–ù–ò–ô –ê–†–ë–ò–¢–†–ê–ñ:
Bybit (–¥–µ—à—ë–≤–∞—è) ‚Üí –≤—Å–µ–≥–¥–∞ –ø–æ–∫—É–ø–∫–∞ ‚Üí –∫—Ä–∏–ø—Ç–∞ –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç—Å—è
Binance (–¥–æ—Ä–æ–≥–∞—è) ‚Üí –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–¥–∞–∂–∞ ‚Üí –∫—Ä–∏–ø—Ç–∞ –∏—Å—Ç–æ—â–∞–µ—Ç—Å—è
```

### –†–µ—à–µ–Ω–∏–µ:
```
–õ–ò–ë–û: –†–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
–õ–ò–ë–û: –ë–æ–ª—å—à–µ –Ω–∞—á–∞–ª—å–Ω–æ–π –∫—Ä–∏–ø—Ç—ã (–≤—Ä–µ–º–µ–Ω–Ω—ã–π fix)
```

---

**–í—ã–≤–æ–¥**: –ü—Ä–æ–±–ª–µ–º–∞ –Ω–µ –≤ –∫–æ–º–∏—Å—Å–∏—è—Ö (–æ–Ω–∏ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ!), –∞ –≤ **–æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–µ–π —Ç–æ—Ä–≥–æ–≤–ª–µ** –±–µ–∑ —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –±–∞–ª–∞–Ω—Å–æ–≤.
