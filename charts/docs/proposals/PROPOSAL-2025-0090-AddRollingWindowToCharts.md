## PROPOSAL-2025-0090: Add Rolling Window with Warm-up to Charts

### Диагностика
Текущий charts получает данные через HTTP streaming из заранее рассчитанных summary_stats analyzer. Это создает задержку между реальными рыночными данными и отображением на графиках. Отсутствует возможность просмотра realtime трендов и быстрого реагирования на изменения.

### Предлагаемое изменение
Добавить в charts rolling window функциональность аналогично collections:

1. **WebSocket клиент** для подключения к collections realtime потоку
2. **RollingWindow класс** в Python для поддержания окна данных за последний час
3. **Прогрев окна** через накопление realtime данных (без загрузки истории)
4. **Новый endpoint** `/api/rolling_window_data` для получения rolling window данных
5. **Обновление index.html** для использования rolling window вместо статических данных

### Обоснование
- **Realtime возможности**: Графики будут отображать актуальные данные без задержек
- **Аналогичность архитектуре**: Charts станет consistent с collections
- **Улучшенная UX**: Пользователи смогут видеть live изменения спредов
- **Подготовка к продвинутым фичам**: Основа для alerts, индикаторов и т.д.

### Оценка рисков
- **Производительность**: Дополнительная нагрузка на память для rolling window
- **Синхронизация**: Возможны race conditions при прогреве и realtime updates
- **Зависимость от collections**: Charts станет зависим от работающего collections WS

### План тестирования
1. Запустить collections и убедиться в WS стриме
2. Проверить прогрев окна через загрузку Parquet данных
3. Валидировать realtime updates через WS
4. Сравнить производительность с текущей HTTP версией
5. Тестировать на нескольких символах одновременно

### План отката
- Откат к предыдущей версии server.py
- Возврат index.html к HTTP fetch
- Остановка WS клиента
