# PROPOSAL-2025-0009: Увеличение суммы ордера для Leg 2

## 1. Диагностика

- **Файлы:** `trader/src/Host/appsettings.json`
- **Проблема:** Тестовый запуск `Leg 2` завершается неудачей, так как сумма ордера на покупку (`$2`) ниже минимально допустимого лимита для пары `HUSDT` на Bybit. Биржа возвращает ошибку `170140: Order value exceeded lower limit.`.
- **Серьезность:** `high` (блокирует тестирование)

## 2. Предлагаемые изменения

Предлагается увеличить значение `Amount` для конфигурации `Bybit` в файле `appsettings.json` с `2` до `5.1`.

```diff
--- a/trader/src/Host/appsettings.json
+++ b/trader/src/Host/appsettings.json
@@ -13,7 +13,7 @@
       "ApiKey": "UVSbRqLBEY30RnPaiH",
       "ApiSecret": "Fg45sn0nH4FhqZaxctj54Nf9cO03Qf9s0zds",
       "Symbol": "H_USDT",
-      "Amount": 2,
+      "Amount": 5.1,
       "DurationMinutes": 60
     }
   ]

```

### Обоснование

Значение `$5.1` является безопасным для большинства спотовых пар на Bybit и позволит обойти ошибку минимального лимита, разблокировав тем самым тестирование полного цикла `Leg 2`. Это временное решение для отладки; в будущем этот параметр должен управляться более интеллектуально (см. `TD-002` и `TD-005` в бэклоге).

## 3. Шаги для отката

Выполнить команду в корне проекта:
`git checkout -- trader/src/Host/appsettings.json`

## 4. Оценка рисков

- **Риск:** Низкий.
- **Обоснование:** Изменение затрагивает только конфигурационный файл и влияет только на сумму тестового ордера. Это не меняет логику работы приложения.

## 5. План тестирования

1.  Запустить приложение с активным `Leg 2`.
2.  Убедиться по логам, что ордер на покупку на Bybit успешно размещается и не отклоняется с ошибкой `170140`.
3.  (Опционально) Спровоцировать исполнение ордера и убедиться, что арбитражный цикл продолжается.