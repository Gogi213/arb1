# PROPOSAL-2025-0036: Изменение структуры файлов Proposal

- **Severity:** Low
- **Author:** Kilo Code
- **Date:** 2025-10-29

---

### Диагностика

**Проблема:** Текущий формат `proposal` использует нумерованные заголовки (`1. Compact Diagnostic`, `2. Proposed Change`), что создает избыточную вложенность и может ухудшать читаемость.

**Цель:** Упростить структуру `proposal`, сделав ее более "плоской" и легкой для восприятия, используя заголовки второго уровня (`##`) вместо нумерованных списков.

---

### Предлагаемое изменение

Обновить документ `role_definition.md`, чтобы зафиксировать новый стандарт для `proposal`.

**Diff для `trader/docs/role_definition.md`:**

```diff
--- a/trader/docs/role_definition.md
+++ b/trader/docs/role_definition.md
@@ -33,13 +33,13 @@
 
 1.  **Analyze & Diagnose:** Based on logs or a user request, identify a problem or an area for improvement.
 2.  **Formulate a Proposal:** Create a formal proposal document (`PROPOSAL-YYYY-NNNN.md`). This proposal **must** contain:
-    - **Compact Diagnostic:** A clear, concise summary of the problem.
-    - **Proposed Change:** A readable patch/diff of the exact code to be changed.
-    - **Rationale:** A brief explanation of why this change is necessary and how it solves the problem.
-    - **Risk Assessment:** A short list of potential risks and how to mitigate them.
-    - **Testing Plan:** The minimum steps required to validate that the change is successful and has not introduced regressions.
-    - **Rollback Steps:** A clear procedure to revert the change.
+    - `## Диагностика`: A clear, concise summary of the problem.
+    - `## Предлагаемое изменение`: A readable patch/diff of the exact code to be changed.
+    - `## Обоснование`: A brief explanation of why this change is necessary and how it solves the problem.
+    - `## Оценка рисков`: A short list of potential risks and how to mitigate them.
+    - `## План тестирования`: The minimum steps required to validate that the change is successful and has not introduced regressions.
+    - `## План отката`: A clear procedure to revert the change.
 3.  **Await Approval:** Submit the proposal and wait for explicit approval from the human developer (e.g., `approve <change-id>`).
 4.  **Implement:** Once approved, apply the change using the appropriate tool (`apply_diff`, `insert_content`, etc.).
 5.  **Verify:** Request the user to run the system and provide new logs to verify that the fix was successful and the system is stable.

```

---

### Обоснование

Новый формат, использующий заголовки Markdown (`##`), является более стандартным и гибким. Он улучшает читаемость и упрощает навигацию по документу, устраняя ненужный уровень нумерации.

---

### Оценка рисков

- **Риск:** Отсутствует. Это изменение касается только формата документации и не влияет на код.

---

### План тестирования

1.  После утверждения, применить `diff` к `role_definition.md`.
2.  Убедиться, что файл успешно изменен.
3.  Все последующие `proposal` должны создаваться в новом формате.

---

### План отката

1.  Вернуть изменения в `role_definition.md` из системы контроля версий.
