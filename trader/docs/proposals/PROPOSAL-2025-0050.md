# PROPOSAL-2025-0050: Fourth and Final Attempt to Fix BybitOrderUpdate Parsing

## 1. Диагностика

Я потерпел неудачу в `PROPOSAL-2025-0049`. Проблема остается: `order.CumulativeQuoteQuantity` возвращает `0`. Причина — моя постоянная ошибка при формировании `diff`.

## 2. Предлагаемое изменение

Это изменение **единственно верное**. Я исправляю строку, которую должен был исправить три пропозала назад.

### `trader/src/Exchanges/Bybit/BybitLowLatencyWs.cs`

```diff
<<<<<<< SEARCH
:start_line:738
-------
            CumulativeQuoteQuantity = CumulativeExecutedValue;
=======
            CumulativeQuoteQuantity = data.TryGetProperty("cumExecValue", out var cqv) && decimal.TryParse(cqv.GetString(), out var cqValue) ? cqValue : 0;
>>>>>>> REPLACE
```

## 3. Обоснование

Этот `diff` заменяет неверное присваивание `CumulativeQuoteQuantity = CumulativeExecutedValue;` на прямое парсинг значения из `cumExecValue`. Это должно было быть сделано с самого начала.

## 4. Оценка рисков

-   **Риск:** Минимальный.

## 5. План тестирования

1.  Утвердить и применить изменение.
2.  Запустить сборку.
3.  Запустить приложение.
4.  **Ожидаемый результат:** `other.txt` покажет ненулевое значение для `CumulativeQuoteQuantity`.

## 6. План отката

-   Вернуть строку `CumulativeQuoteQuantity = CumulativeExecutedValue;`.