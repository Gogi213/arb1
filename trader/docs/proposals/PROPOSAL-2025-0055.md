# PROPOSAL-2025-0055: Исправление ошибки компиляции после PROPOSAL-2025-0054

## Диагностика

После применения изменений из `PROPOSAL-2025-0054` сборка проекта завершается с ошибкой компиляции:
`error CS1061: "IOrder" не содержит определения "QuantityFilled"`.

Ошибка возникает в файле `trader/src/Core/ArbitrageTrader.cs`, где была сделана попытка получить доступ к свойству `QuantityFilled` через интерфейс `IOrder`.

Анализ кода показал, что `QuantityFilled` является деталью реализации конкретного адаптера (`GateIoOrderAdapter`), а общий интерфейс `IOrder` предоставляет свойство `Quantity` для доступа к исполненному объему.

## Предлагаемое изменение

Необходимо исправить код в `ArbitrageTrader.cs`, чтобы использовать правильное свойство `Quantity` из интерфейса `IOrder`.

**Файл:** `trader/src/Core/ArbitrageTrader.cs`
```diff
--- a/trader/src/Core/ArbitrageTrader.cs
+++ b/trader/src/Core/ArbitrageTrader.cs
@@ -102,8 +102,8 @@
 
                 FileLogger.LogOther($"[Arbitrage] Buy order {filledOrder.OrderId} filled on {_buyExchange.GetType().Name}!");
                 FileLogger.LogOther($"[Arbitrage] Buy fill server time: {buyFillServerTimeStr}, Handler entered: {t0:HH:mm:ss.fff}");
-                _state.Leg1GateBuyFilledQuantity = filledOrder.QuantityFilled;
-                FileLogger.LogOther($"[Arbitrage] Storing Leg 1 filled quantity in state: {filledOrder.QuantityFilled}");
+                _state.Leg1GateBuyFilledQuantity = filledOrder.Quantity;
+                FileLogger.LogOther($"[Arbitrage] Storing Leg 1 filled quantity in state: {filledOrder.Quantity}");
                 
                 // --- NEW LOGIC: Wait for the actual balance update ---
 
```

## Обоснование

Это исправление устраняет ошибку компиляции, используя корректное свойство из интерфейса `IOrder`. Изменение является минимально необходимым и не затрагивает общую логику.

## Оценка рисков

-   **Нулевой:** Исправление является чисто синтаксическим и приводит код в соответствие с существующими определениями интерфейсов.

## План тестирования

1.  Запустить сборку проекта с помощью `dotnet build`.
2.  Убедиться, что сборка проходит успешно без ошибок.
3.  Запустить приложение и проверить, что логика, реализованная в `PROPOSAL-2025-0054`, работает корректно.

## План отката

1.  Отменить изменение в файле `trader/src/Core/ArbitrageTrader.cs` с помощью `git restore`.